(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46497,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476);function a(){return(0,t.jsx)("div",{className:"min-h-screen py-8 sm:py-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-pulse text-gray-600",children:"Loading products..."})})})})}},38028,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),a=e.i(71645);function r(e){let{productId:r,productName:s,onSubmit:i,onCancel:o}=e,[n,l]=(0,a.useState)(0),[d,c]=(0,a.useState)(0),[u,m]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[x,y]=(0,a.useState)(""),[v,w]=(0,a.useState)(!1),[j,b]=(0,a.useState)(null),N=async e=>{if(e.preventDefault(),0===n||!u.trim()||!g.trim()||!h.trim())return void alert("Please fill in all required fields and provide a rating.");w(!0);let t={productId:r,userId:"user_".concat(Date.now()),userName:h,userAvatar:void 0,rating:n,title:u,content:g,location:x||void 0,updatedAt:new Date().toISOString(),verifiedPurchase:!1};try{i(t),b(t),l(0),m(""),p(""),f(""),y("")}catch(e){alert("Error submitting review. Please try again.")}finally{w(!1)}};return(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:["Write a Customer Review for ",s]}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Overall Rating ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{l(e)},onMouseEnter:()=>c(e),onMouseLeave:()=>c(0),className:"focus:outline-none",children:(0,t.jsx)("svg",{className:"w-8 h-8 transition-colors ".concat(e<=(d||n)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:n>0&&(0,t.jsxs)(t.Fragment,{children:[n," out of 5 stars",1===n&&" - Poor",2===n&&" - Fair",3===n&&" - Good",4===n&&" - Very Good",5===n&&" - Excellent"]})})]}),{})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Add a headline ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"title",value:u,onChange:e=>m(e.target.value),placeholder:"What's most important to know?",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:100,required:!0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/100 characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Add a written review ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{id:"content",value:g,onChange:e=>p(e.target.value),placeholder:"What did you like or dislike? What did you use this product for?",rows:6,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:1e3,required:!0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[g.length,"/1000 characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"userName",value:h,onChange:e=>f(e.target.value),placeholder:"Enter your name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[(0,t.jsx)("button",{type:"button",onClick:o,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:v,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:v||0===n||!u.trim()||!g.trim()||!h.trim(),className:"px-6 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:v?"Submitting...":"Submit Review"})]})]}),j&&(0,t.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 border rounded",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Submitted Review (JSON Format):"}),(0,t.jsx)("pre",{className:"text-xs bg-white p-2 rounded overflow-x-auto border",children:JSON.stringify(j,null,2)})]})]})}},37654,e=>{"use strict";e.s(["products",()=>t]);let t=[{id:"1",name:"Mango Pickle",description:"Authentic Andhra Mango Pickle made with traditional spices and pure oil",category:"Pickles",image:"/products/mango-pickle-6.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spicy","traditional","andhra style","veg"],ingredients:["Raw Mangoes","Mustard Oil","Red Chili Powder","Salt","Turmeric","Fenugreek Seeds","Mustard Seeds"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"12 months from manufacturing date"},{id:"2",name:"Lime Pickle",description:"Spicy Lime Pickle with a perfect blend of spices",category:"Pickles",image:"/products/lime-pickle-12.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["mixed veg","spicy","traditional","veg"],ingredients:["Mixed Vegetables","Mustard Oil","Red Chili Powder","Salt","Turmeric","Spices"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"12 months from manufacturing date"},{id:"3",name:"Gongura Pickle",description:"Homestyle Gongura Pickle, a traditional Andhra delicacy",category:"Pickles",image:"/products/GonguraRedChilli_2.png",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["gongura","andhra style","traditional","veg"],ingredients:["Gongura Leaves","Red Chili Powder","Salt","Garlic","Oil","Spices"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"12 months from manufacturing date"},{id:"4",name:"Dosa Batter",description:"Fresh ground Dosa Batter made with premium rice and urad dal",category:"Batters",image:"/products/dosa.png",additionalImages:["/products/dosa12 (1).png","/products/dosa12 (2).png"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"3 days from manufacturing date"},{id:"5",name:"Idli Batter",description:"Idli Batter prepared with perfect proportions for soft and fluffy idlis",category:"Batters",image:"/products/idli-batter.png",additionalImages:["/products/idly1 (1).png","/products/idly1 (2).png"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"3 days from manufacturing date"},{id:"6",name:"Idli Dosa Batter",description:"Idli Dosa Batter prepared with perfect proportions for soft and fluffy idlis",category:"Batters",image:"/products/idd.png",additionalImages:["/products/idlydosa1 (1).png","/products/idlydosa1 (2).png"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"3 days from manufacturing date"},{id:"7",name:"ragi Dosa Batter",description:"ragi Dosa Batter prepared with perfect proportions for soft and fluffy ragi",category:"Batters",image:"/products/ragidosa.png",additionalImages:["/products/dosa1.png","/products/dosa2.png"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"3 days from manufacturing date"},{id:"8",name:"Sambar Powder",description:"Sambar Powder made with roasted spices and lentils",category:"Powders",image:"/products/Sambar-Powder-Recipe.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","authentic"],ingredients:["Coriander","Red Chilies","Turmeric","Cumin","Fenugreek","Black Pepper","Curry Leaves"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"9",name:"Rasam Powder",description:"Rasam Powder blended with handpicked spices for authentic taste",category:"Powders",image:"/products/rasam-powder-recipe-1.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","authentic"],ingredients:["Black Pepper","Cumin","Coriander","Red Chilies","Garlic","Curry Leaves"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"10",name:"Curry Powder",description:"Special Curry Powder perfect for vegetable and meat dishes",category:"Powders",image:"/products/curry-powder.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","versatile"],ingredients:["Coriander","Cumin","Turmeric","Red Chilies","Black Pepper","Cardamom","Cinnamon"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"11",name:"Chicken Pickle",description:"Authentic Andhra Chicken Pickle made with traditional spices and pure oil",category:"Pickles",image:"/products/chicken-pickle.jpg",additionalImages:["/products/dummy.png","/products/dummy.png","/products/dummy.png"],tags:["spicy","traditional","andhra style","non-veg"],ingredients:["Chicken","Mustard Oil","Red Chili Powder","Salt","Turmeric","Fenugreek Seeds","Mustard Seeds"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"12 months from manufacturing date"}]},97705,e=>{"use strict";e.s(["filterReviewsByRating",()=>o,"getAverageRating",()=>r,"getReviewCount",()=>s,"reviews",()=>t,"sortReviews",()=>i]);let t=[{id:"1",productId:"mango-pickle",userId:"user1",userName:"Priya S.",userAvatar:"/avatars/user1.jpg",rating:5,title:"Absolutely delicious!",content:"This mango pickle tastes just like my grandmother used to make. The perfect balance of sweet, sour, and spicy. The mangoes are fresh and the oil quality is excellent. Will definitely order again!",images:["/reviews/mango-pickle-review1.jpg"],verifiedPurchase:!0,helpfulVotes:23,totalVotes:26,createdAt:"2024-01-15T10:30:00Z",location:"Chennai, India",reviewerRank:"#1,245 in Food Reviews"},{id:"2",productId:"mango-pickle",userId:"user2",userName:"Rajesh K.",rating:4,title:"Good quality pickle",content:"Good taste and quality. The pickle arrived well-packaged and fresh. Only complaint is that it could be a bit more spicy for my taste, but overall very satisfied with the purchase.",verifiedPurchase:!0,helpfulVotes:15,totalVotes:18,createdAt:"2024-01-10T14:20:00Z",location:"Bangalore, India",vine:!0},{id:"3",productId:"mango-pickle",userId:"user3",userName:"Meera A.",rating:5,title:"Authentic taste!",content:"Finally found a pickle that tastes authentic! No artificial preservatives, just pure traditional taste. My family loves it and we have already placed our second order.",verifiedPurchase:!0,helpfulVotes:31,totalVotes:33,createdAt:"2024-01-08T09:15:00Z",location:"Mumbai, India",earlyReviewer:!0},{id:"4",productId:"idly-batter",userId:"user4",userName:"Ananya M.",rating:5,title:"Perfect for busy mornings",content:"This idly batter is a lifesaver for busy weekday mornings. The consistency is perfect and the idlies come out fluffy and soft every time. Great quality and saves so much time!",verifiedPurchase:!0,helpfulVotes:18,totalVotes:20,createdAt:"2024-01-12T07:45:00Z",location:"Hyderabad, India"},{id:"5",productId:"sambar-powder",userId:"user5",userName:"Venkat R.",rating:4,title:"Good spice blend",content:"The sambar powder has a good aroma and authentic taste. Made sambar yesterday and the family loved it. The spice level is just right - not too mild, not too hot.",verifiedPurchase:!0,helpfulVotes:12,totalVotes:14,createdAt:"2024-01-05T16:30:00Z",location:"Delhi, India",reviewerRank:"#856 in Spice Reviews"},{id:"6",productId:"dosa-batter",userId:"user6",userName:"Kavya P.",rating:5,title:"Amazing quality!",content:"The dosa batter is perfectly fermented and makes crispy, golden dosas every time. The consistency is just right and it spreads beautifully on the pan.",verifiedPurchase:!0,helpfulVotes:8,totalVotes:10,createdAt:"2024-01-20T12:15:00Z",location:"Coimbatore, India"}],a=e=>t.filter(t=>t.productId===e),r=e=>{let t=a(e);return 0===t.length?0:t.reduce((e,t)=>e+t.rating,0)/t.length},s=e=>a(e).length,i=(e,t)=>{let a=[...e];switch(t){case"newest":return a.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());case"oldest":return a.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime());case"highest":return a.sort((e,t)=>t.rating-e.rating);case"lowest":return a.sort((e,t)=>e.rating-t.rating);case"helpful":return a.sort((e,t)=>t.helpfulVotes-e.helpfulVotes);default:return a}},o=(e,t)=>null===t?e:e.filter(e=>e.rating===t)},36385,e=>{"use strict";e.s(["default",()=>u],36385);var t=e.i(43476),a=e.i(71645),r=e.i(57688),s=e.i(18566),i=e.i(38028);let o=e=>{let{rating:a,size:r="sm"}=e,s={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},i=Math.floor(a),o=a-i>=.25&&a-i<.75;return(0,t.jsxs)("div",{className:"flex items-center",children:[[...Array(i)].map((e,a)=>(0,t.jsx)("svg",{className:"".concat(s[r]," text-yellow-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},"full-".concat(a))),o&&(0,t.jsxs)("svg",{className:"".concat(s[r]," text-yellow-400"),fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"half-grad",x1:"0",x2:"100%",y1:"0",y2:"0",children:[(0,t.jsx)("stop",{offset:"50%",stopColor:"#facc15"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#d1d5db"})]})}),(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",fill:"url(#half-grad)"})]},"half"),[...Array(5-i-!!o)].map((e,a)=>(0,t.jsx)("svg",{className:"".concat(s[r]," text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},"empty-".concat(a)))]})},n=e=>{let{product:n,reviews:l,addReview:d,variant:c="grid"}=e,{name:u,description:m,category:g,image:p,id:h}=n,f=(0,s.useRouter)(),[x,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),j=l.length>0?l.reduce((e,t)=>e+t.rating,0)/l.length:0,b=l.length,N=()=>{f.push("/products/".concat(h))},S=()=>{y(!0)};return"list"===c?(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:scale-[1.02]",itemScope:!0,itemType:"https://schema.org/Product",children:[(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Product",name:u,description:m,category:g,image:p,brand:{"@type":"Brand",name:"Raaga Foods"}})}}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("div",{className:"relative w-full md:w-32 aspect-square",children:(0,t.jsx)(r.default,{src:x?"/products/placeholder.jpg":p||"/products/placeholder.jpg",alt:"".concat(u," - ").concat(g," from Raaga Foods"),fill:!0,className:"rounded-lg object-cover transition-transform duration-300 hover:scale-110",sizes:"(max-width: 768px) 100vw, 128px",priority:!0,onError:S,itemProp:"image"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"flex justify-between items-start",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 text-sm bg-orange-100 text-orange-600 rounded-full",itemProp:"category",children:g})}),(0,t.jsx)("h3",{className:"mt-2 text-lg font-semibold text-gray-800",itemProp:"name",children:u}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",itemProp:"description",children:m}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsx)(o,{rating:j,size:"sm"}),(0,t.jsx)("span",{className:"text-sm text-gray-800 font-semibold",children:j.toFixed(1)}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["(",b,")"]}),(0,t.jsx)("button",{className:"ml-2 text-xs text-orange-600 underline hover:text-orange-800",onClick:()=>w(!0),type:"button",children:"Write Review"})]}),v&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(i.default,{productId:h,productName:u,onSubmit:e=>{d({...e,id:"user_review_".concat(Date.now()),createdAt:new Date().toISOString(),helpfulVotes:0,totalVotes:0}),w(!1),alert("Thank you! Your review has been submitted successfully.")},onCancel:()=>w(!1)})})]})]}):(0,t.jsxs)("div",{className:"group bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 relative overflow-hidden cursor-pointer transform hover:scale-[1.02] max-w-5xl mx-auto px-4 py-12",onClick:N,role:"button",tabIndex:0,onKeyPress:e=>"Enter"===e.key&&N(),itemScope:!0,itemType:"https://schema.org/Product",children:[(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Product",name:u,description:m,category:g,image:p,brand:{"@type":"Brand",name:"Raaga Foods"}})}}),(0,t.jsx)("div",{className:"relative w-full aspect-square overflow-hidden ",children:(0,t.jsx)(r.default,{src:x?"/products/placeholder.jpg":p||"/products/placeholder.jpg",alt:"".concat(u," - ").concat(g," from Raaga Foods"),fill:!0,className:"rounded-t-lg object-cover transform group-hover:scale-110 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:!0,onError:S,itemProp:"image"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 text-sm bg-orange-100 text-orange-600 rounded-full",itemProp:"category",children:g})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",itemProp:"name",children:u}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 group-hover:text-orange-600 transition-colors duration-300",itemProp:"description",children:m}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(o,{rating:j,size:"sm"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["(",b,")"]})]}),v&&(0,t.jsx)("div",{className:"mt-4",onClick:e=>e.stopPropagation()}),(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100 transform opacity-0 max-h-0 group-hover:max-h-20 group-hover:opacity-100 transition-all duration-300",children:(0,t.jsx)("div",{className:"flex justify-between items-center"})})]})]})};var l=e.i(41096),d=e.i(37654),c=e.i(97705);function u(e){var r,s,i,o,u;let{selectedCategory:m}=e,{searchQuery:g}=(0,l.useSearch)(),[p,h]=(0,a.useState)([]),[f,x]=(0,a.useState)(!1),[y,v]=(0,a.useState)(8),[w,j]=(0,a.useState)([]),[b,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=Object.keys(localStorage).filter(e=>e.startsWith("userReviews_")),t=[];e.forEach(e=>{let a=JSON.parse(localStorage.getItem(e)||"[]");Array.isArray(a)&&(t=t.concat(a))}),N(t)}catch(e){}},[]);let S=e=>{N(t=>{let a=[e,...t];try{let t="userReviews_".concat(e.productId),a=JSON.parse(localStorage.getItem(t)||"[]");localStorage.setItem(t,JSON.stringify([e,...a]))}catch(e){}return a})};(0,a.useEffect)(()=>{v(8)},[g,m]),(0,a.useEffect)(()=>{x(!!g.trim());let e=Array.from(new Map(d.products.map(e=>[e.id,e])).values());if(console.log("Initial products loaded:",e.length),m&&console.log("After category filter:",(e="veg"===m.toLowerCase()?e.filter(e=>{var t;return!((null==(t=e.tags)?void 0:t.some(e=>"non-veg"===e.toLowerCase()))||e.name.toLowerCase().includes("chicken")||e.name.toLowerCase().includes("mutton")||e.name.toLowerCase().includes("fish"))}):"non-veg"===m.toLowerCase()?e.filter(e=>{var t;return(null==(t=e.tags)?void 0:t.some(e=>e.toLowerCase().includes("non-veg")))||e.name.toLowerCase().includes("non-veg")||e.description.toLowerCase().includes("non-vegetarian")}):e.filter(e=>e.category===m)).length,"for category:",m),g.trim()){let t=g.toLowerCase(),a=t.split(" ").filter(e=>e.length>0);(e=(e=Array.from(new Map(e.map(e=>[e.id,e])).values())).filter(e=>{let t=e.name.toLowerCase();return a.every(e=>t.includes(e))})).sort((e,r)=>{let s=e.name.toLowerCase(),i=r.name.toLowerCase();if(s===t)return -1;if(i===t)return 1;let o=s.startsWith(a[0]),n=i.startsWith(a[0]);return o&&!n?-1:!o&&n?1:s.localeCompare(i)}),console.log("After search filter:",e.length,"for query:",g)}console.log("Final filtered products:",e.length),j(e),h([{category:"All Products",items:e.slice(0,y)}])},[y,g,m]);let k=w.length>y;return(console.log("ProductsList state:",{displayCount:y,allProductsLength:w.length,hasMoreProducts:k,searchResultsLength:null==(r=p[0])?void 0:r.items.length}),0!==p.length||g||m)?(0,t.jsxs)("div",{className:"w-full",children:[(f||m)&&(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h3",{className:"text-lg text-gray-600 mb-2",children:f?(null==(s=p[0])?void 0:s.items.length)>0?(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:p[0].items.length})," ",1===p[0].items.length?"product":"products"," matching “",(0,t.jsx)("strong",{children:g}),"”",m?" in ".concat(m):""]}):(0,t.jsxs)(t.Fragment,{children:["No products found matching “",g,"”"]}):m?"Showing ".concat((null==(i=p[0])?void 0:i.items.length)||0," products in ").concat(m):null})}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4  gap-4 sm:gap-6 ",children:null==(o=p[0])?void 0:o.items.map(e=>{let a;return(0,t.jsx)("div",{className:"w-full ",children:(0,t.jsx)(n,{product:e,reviews:(a=e.id,[...c.reviews.filter(e=>e.productId===a),...b.filter(e=>e.productId===a)]),addReview:S})},e.id)})}),k&&(0,t.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Showing ",(null==(u=p[0])?void 0:u.items.length)||0," of ",w.length," products"]}),(0,t.jsxs)("button",{onClick:()=>{v(e=>{let t=e+8;return console.log("Loading more products:",{prev:e,newCount:t,totalProducts:w.length}),t})},className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors duration-300 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Load More"}),(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})]})]}):(0,t.jsx)("div",{className:"w-full text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-600 text-lg animate-pulse",children:"Loading products..."})})}},12336,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(18566),r=e.i(71645),s=e.i(36385),i=e.i(46497);function o(){let e=(0,a.useSearchParams)().get("category"),[o,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!o&&document.referrer.includes("/products/")){let e=document.querySelector("nav"),t=e?e.getBoundingClientRect().height:0;window.scrollTo({top:Math.max(0,window.scrollY-t-16),behavior:"smooth"}),n(!0)}},[o]),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(i.default,{}),children:(0,t.jsx)("div",{className:"min-h-screen py-8 sm:py-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:e?"".concat(e," Products"):"All Products"})}),(0,t.jsx)(s.default,{selectedCategory:e||void 0})]})})})})}}]);