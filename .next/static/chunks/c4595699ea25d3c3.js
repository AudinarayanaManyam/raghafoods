(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70558,13270,e=>{"use strict";e.s(["default",()=>s],70558);var r=e.i(91231),t=e.i(94696);e.s(["default",()=>i],13270);class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}async submitReview(e){try{let r=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e={};try{let t=await r.json();Object.assign(e,t)}catch(t){e.error=r.statusText}return{success:!1,error:e.error||"HTTP ".concat(r.status),details:e.errors}}return await r.json()}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}async getReviews(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"newest",t=arguments.length>2?arguments[2]:void 0;try{let a=new URLSearchParams({productId:e,sortBy:r});t&&a.append("filterRating",t.toString());let i=await fetch("/api/reviews?".concat(a),{method:"GET"});if(!i.ok){let e={};try{let r=await i.json();"error"in r&&(e.error=r.error)}catch(r){e.error=i.statusText}return{success:!1,error:e.error||"HTTP ".concat(i.status)}}return await i.json()}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}async voteHelpful(e,r,t){try{let a=await fetch("/api/reviews",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reviewId:e,productId:r,isHelpful:t})});if(!a.ok){let e={};try{let r=await a.json();"error"in r&&(e.error=r.error)}catch(r){e.error=a.statusText}return{success:!1,error:e.error||"HTTP ".concat(a.status)}}return await a.json()}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}constructor(){}}!function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}(a,"instance",void 0);let i=a.getInstance();function s(e){let{productId:a,productName:s,onSubmit:o,onCancel:n}=e,[d,c]=(0,t.useState)(0),[l,u]=(0,t.useState)(0),[m,g]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[h,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,v]=(0,t.useState)(!1),[P,N]=(0,t.useState)(null),[j,S]=(0,t.useState)(null),[k,C]=(0,t.useState)(!1),I=async e=>{if(e.preventDefault(),S(null),C(!1),0===d||!m.trim()||!p.trim()||!h.trim())return void S("Please fill in all required fields and provide a rating.");v(!0);try{let e=await i.submitReview({productId:a,userName:h.trim(),rating:d,title:m.trim(),content:p.trim(),location:x.trim()||void 0,verifiedPurchase:!1});if(e.success&&e.review){C(!0),N(e.review);let r={productId:a,userId:e.review.userId||"user_".concat(Date.now()),userName:e.review.userName,rating:e.review.rating,title:e.review.title,content:e.review.content,location:e.review.location,verifiedPurchase:e.review.verifiedPurchase};o(r),c(0),g(""),f(""),y(""),b(""),setTimeout(()=>{C(!1),n()},2e3)}else S(e.error||"Failed to submit review")}catch(e){S(e instanceof Error?e.message:"An unexpected error occurred")}finally{v(!1)}};return(0,r.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:["Write a Customer Review for ",s]}),k&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:(0,r.jsx)("p",{className:"text-green-800 font-medium",children:"✓ Review submitted successfully!"})}),j&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsxs)("p",{className:"text-red-800 font-medium",children:["✗ ",j]})}),(0,r.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Overall Rating ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>{c(e)},onMouseEnter:()=>u(e),onMouseLeave:()=>u(0),className:"focus:outline-none",children:(0,r.jsx)("svg",{className:"w-8 h-8 transition-colors ".concat(e<=(l||d)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:d>0&&(0,r.jsxs)(r.Fragment,{children:[d," out of 5 stars",1===d&&" - Poor",2===d&&" - Fair",3===d&&" - Good",4===d&&" - Very Good",5===d&&" - Excellent"]})})]}),{})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Add a headline ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"title",value:m,onChange:e=>g(e.target.value),placeholder:"What's most important to know?",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:100,required:!0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[m.length,"/100 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Add a written review ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"content",value:p,onChange:e=>f(e.target.value),placeholder:"What did you like or dislike? What did you use this product for?",rows:6,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:1e3,required:!0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[p.length,"/1000 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"userName",value:h,onChange:e=>y(e.target.value),placeholder:"Enter your name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),(0,r.jsx)("input",{type:"text",id:"location",value:x,onChange:e=>b(e.target.value),placeholder:"City, State",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[(0,r.jsx)("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:w,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:w||0===d||!m.trim()||!p.trim()||!h.trim(),className:"px-6 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:w?"Submitting...":"Submit Review"})]})]}),P&&(0,r.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 border rounded",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Submitted Review (JSON Format):"}),(0,r.jsx)("pre",{className:"text-xs bg-white p-2 rounded overflow-x-auto border",children:JSON.stringify(P,null,2)})]})]})}},43752,e=>{"use strict";e.s(["products",()=>r]);let r=[{id:"1",name:"Chicken Pickle",description:"Authentic Andhra Chicken Pickle made with traditional spices and pure oil",category:"Pickles",image:"/products/1N8A7839.JPG",additionalImages:["/products/1N8A7840.JPG","/products/1N8A7841.JPG"],tags:["spicy","traditional","andhra style","non-veg"],ingredients:["Chicken","Mustard Oil","Red Chili Powder","Salt","Turmeric","Fenugreek Seeds","Mustard Seeds"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"4 months from manufacturing date"},{id:"2",name:"Mutton Pickle",description:"Authentic Andhra Mutton Pickle prepared with tender mutton pieces, traditional spices, and pure oil",category:"Pickles",image:"/products/1N8A7842.JPG",additionalImages:["/products/1N8A7843.JPG","/products/1N8A7844.JPG"],tags:["spicy","traditional","andhra style","non-veg"],ingredients:["Mutton","Mustard Oil","Red Chili Powder","Salt","Turmeric","Fenugreek Seeds","Mustard Seeds","Garlic"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"4 months from manufacturing date"},{id:"3",name:"Dosa Batter",description:"Fresh ground Dosa Batter made with premium rice and urad dal",category:"Batters",image:"/products/IMG-20251206-WA0013.jpg",additionalImages:["/products/1N8A7837.JPG","/products/1N8A7806.JPG"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"9 days from manufacturing date"},{id:"4",name:"Idli Batter",description:"Idli Batter prepared with perfect proportions for soft and fluffy idlis",category:"Batters",image:"/products/IMG-20251206-WA0014.jpg",additionalImages:["/products/1N8A7798.JPG","/products/1N8A7809.JPG"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"9 days from manufacturing date"},{id:"5",name:"Idli Dosa Batter",description:"Idli Dosa Batter prepared with perfect proportions for soft and fluffy idlis",category:"Batters",image:"/products/IMG-20251210-WA0013.jpg",additionalImages:["/products/1N8A7803.JPG","/products/1N8A7820.JPG"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"9 days from manufacturing date"},{id:"6",name:"ragi Dosa Batter",description:"ragi Dosa Batter prepared with perfect proportions for soft and fluffy ragi",category:"Batters",image:"/products/IMG-20251210-WA0014.jpg",additionalImages:["/products/1N8A7796.JPG","/products/1N8A7824.JPG"],tags:["fresh","fermented","breakfast","veg"],ingredients:["Rice","Urad Dal","Fenugreek Seeds","Salt"],storageInfo:"Keep refrigerated at 4°C",shelfLife:"9 days from manufacturing date"},{id:"7",name:"Jeera Powder",description:"Jeera Powder made from premium roasted cumin seeds for rich aroma and flavor",category:"Powders",image:"/products/1N8A7830.JPG",additionalImages:["/products/1N8A7831.JPG","/products/1N8A7832.JPG"],tags:["spices","single spice","aromatic"],ingredients:["Cumin Seeds"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"8",name:"Dhaniyalu Powder",description:"Dhaniyalu (Coriander) Powder made from premium roasted coriander seeds for a fresh and aromatic flavor",category:"Powders",image:"/products/1N8A7833.JPG",additionalImages:["/products/1N8A7834.JPG","/products/1N8A7835.JPG"],tags:["spices","single spice","aromatic"],ingredients:["Coriander Seeds"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"9",name:"Sambar Powder",description:"Sambar Powder made with roasted spices and lentils",category:"Powders",image:"/products/Sambar-Powder-Recipe.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","authentic"],ingredients:["Coriander","Red Chilies","Turmeric","Cumin","Fenugreek","Black Pepper","Curry Leaves"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"10",name:"Rasam Powder",description:"Rasam Powder blended with handpicked spices for authentic taste",category:"Powders",image:"/products/rasam-powder-recipe-1.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","authentic"],ingredients:["Black Pepper","Cumin","Coriander","Red Chilies","Garlic","Curry Leaves"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"11",name:"Curry Powder",description:"Special Curry Powder perfect for vegetable and meat dishes",category:"Powders",image:"/products/curry-powder.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spices","blend","versatile"],ingredients:["Coriander","Cumin","Turmeric","Red Chilies","Black Pepper","Cardamom","Cinnamon"],storageInfo:"Store in an airtight container in a cool, dry place",shelfLife:"6 months from manufacturing date"},{id:"12",name:"Mango Pickle",description:"Authentic Andhra Mango Pickle made with traditional spices and pure oil",category:"Pickles",image:"/products/mango-pickle-6.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["spicy","traditional","andhra style","veg"],ingredients:["Raw Mangoes","Mustard Oil","Red Chili Powder","Salt","Turmeric","Fenugreek Seeds","Mustard Seeds"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"4 months from manufacturing date"},{id:"13",name:"Lime Pickle",description:"Spicy Lime Pickle with a perfect blend of spices",category:"Pickles",image:"/products/lime-pickle-12.jpg",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["mixed veg","spicy","traditional","veg"],ingredients:["Mixed Vegetables","Mustard Oil","Red Chili Powder","Salt","Turmeric","Spices"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"4 months from manufacturing date"},{id:"14",name:"Gongura Pickle",description:"Homestyle Gongura Pickle, a traditional Andhra delicacy",category:"Pickles",image:"/products/GonguraRedChilli_2.png",additionalImages:["/products/dummy.png","/products/dummy.png"],tags:["gongura","andhra style","traditional","veg"],ingredients:["Gongura Leaves","Red Chili Powder","Salt","Garlic","Oil","Spices"],storageInfo:"Store in a cool, dry place. Keep away from direct sunlight.",shelfLife:"4 months from manufacturing date"}]}]);